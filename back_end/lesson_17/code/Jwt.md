JWT (JSON Web Token) состоит из трех частей, разделенных точками: заголовок (header), полезная нагрузка (payload) и подпись (signature).

1. **Заголовок (Header):** Это JSON-объект, содержащий два элемента: тип токена (typ) и используемый алгоритм хеширования (alg). Например:
    ```json
    {
      "alg": "HS256",
      "typ": "JWT"
    }
    ```

2. **Полезная нагрузка (Payload):** Это также JSON-объект, который содержит утверждения (claims) о пользователе или другую информацию. Существуют три типа утверждений:
    - **Утверждения о пользователе (registered claims):** Их значения стандартизированы и включают, например, идентификатор пользователя (sub), время выдачи токена (iat) и срок действия токена (exp).
    - **Приватные утверждения (public claims):** Это пользовательские утверждения, которые могут использоваться по соглашению между сторонами.
    - **Защищенные утверждения (private claims):** Это кастомные утверждения, которые применяются конкретным приложением.

3. **Подпись (Signature):** Это результат шифрования кодированной строки заголовка, полезной нагрузки и секретного ключа (или сертификата), используя указанный алгоритм из заголовка. Это обеспечивает проверку подлинности данных и защиту от их изменения.

Процесс создания JWT выглядит следующим образом:
1. **Создание заголовка:** Формируется JSON-объект с типом токена и выбранным алгоритмом хеширования.
2. **Создание полезной нагрузки:** Формируется JSON-объект с необходимой информацией (идентификатор пользователя, срок действия и т. д.).
3. **Кодирование заголовка и полезной нагрузки:** Оба JSON-объекта кодируются в формат Base64Url.
4. **Создание подписи:** Заголовок и полезная нагрузка объединяются с секретным ключом и хешируются указанным алгоритмом из заголовка.
5. **Создание JWT:** Полученные закодированные строки заголовка и полезной нагрузки, а также подпись объединяются через точки.

Вот пример JWT: `header.payload.signature` (в кодированном виде выглядит как `xxxxx.yyyyy.zzzzz`).





Приватные утверждения (public claims) и Защищенные утверждения (private claims) в контексте JWT (JSON Web Token) не являются официальными терминами или стандартами. Вместо этого, существуют стандартные и зарезервированные утверждения, а также кастомные (пользовательские) утверждения.

1. **Стандартные утверждения (Registered Claims):** Эти утверждения имеют стандартизированные имена и используются для распространенных сценариев. Некоторые из них включают:

    - `iss` (Issuer): Указывает, кто выпустил токен.
    - `sub` (Subject): Идентификатор субъекта (пользователя).
    - `iat` (Issued At): Время, когда токен был выдан.
    - `exp` (Expiration Time): Время истечения срока действия токена.

2. **Приватные утверждения (Public Claims):** Это утверждения, которые могут быть определены и использованы в приложениях по соглашению между сторонами. Они не являются стандартными и не имеют фиксированных имен. Примеры таких утверждений могут включать информацию о роли пользователя или другие прикладные данные.

3. **Защищенные утверждения (Private Claims):** Здесь также может быть некоторое недоразумение, так как обычно утверждения JWT могут быть публичными и доступными для всех, кто имеет доступ к токену. Если вы имеете в виду утверждения, которые должны быть скрытыми от сторонних лиц, то в этом случае JWT должен быть подписан с использованием секретного ключа или сертификата, чтобы обеспечить конфиденциальность. Это не скрывает сами утверждения, но делает токен неподдельным и защищенным от изменений.

Важно помнить, что любые данные, включенные в JWT, могут быть прочитаны всеми, кто имеет доступ к токену. Если важно обеспечить конфиденциальность данных, их следует шифровать, а не просто подписывать.